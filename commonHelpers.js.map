{"version":3,"file":"commonHelpers.js","sources":["../src/js/axios.js","../src/js/part-all-categories.js","../src/js/main-content-page.js","../src/img/shopping/book_grey.png","../src/img/shopping/am_grey.png","../src/js/popup-menu.js","../src/js/part-bestseller.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASEURL = 'https://books-backend.p.goit.global';\nconst CATLIST = '/books/category-list';\n\n\nexport default async function listCategory() {\n  try {\n    const listCategories = await axios.get(`${BASEURL}${CATLIST}`);\n    return listCategories.data\n  }\n  catch (error) {\n    console.error(error);\n  }\n};\n\n\n\n","import Notiflix from 'notiflix';\nimport listCategory from './axios'\n// import allBooksBackend from './axios'\n\n const mainContentPage = document.querySelector('.main-content-page');\nconst numberBlocksPage = 4;\n\nconst catList = document.querySelector('.categories-list');\nlistCategory()\n    .then(resp => {\n        markupCatList(resp);\n\n    })\n    .catch(error => {\n        Notiflix.Notify.failure('Error');\n        console.log(error)\n    });\n\nfunction markupCatList(respArr) {\n    const categoriesList = respArr.map(({ list_name }\n    ) => `\n       <li class=\"category-item\">${list_name}</li>\n       `).join(\"\");\n    const itemFirstEl = '<li class=\"category-item category-item-firstelm\">All categories</li>';\n    catList.innerHTML = itemFirstEl + categoriesList;\n    const catFirstElement = document.querySelector('.category-item-firstelm');\n    // console.log(catFirstElement);\n    catFirstElement.classList.add('category-active');\n}\n////////////////////////////////////////////////////////////\n\n// async function allBooksBackend() {\n//     const BASE_URL = 'https://books-backend.p.goit.global/books/top-books';\n//     return await fetch(`${BASE_URL}`)\n//        .then((resp) => {\n//     if (!resp.ok) {\n//       throw new Error(resp.statusText);\n//     }\n//     return resp.json();\n//   });\n// }\n// //---------------------------\n\n// await allBooksBackend()\n//     .then((data) => {\n//       console.log(data);\n//        createPageAllBooks(data);\n//   })\n//     .catch((err) => console.log(err));\n        \n\n    \n// function createPageAllBooks(respArr) {\n//     const headPage = `<h1 class=\"head-main-h\">Best Sellers\n//   <span class=\"head-main-h head-main-hdecor\">\n//   Books\n//   </span>\n//    </h1>`;\n//     let partBoxAllBooks = '';\n//     let pageAllBooks = '';\n// console.log(respArr);\n//     for (let i = 0; i < numberBlocksPage; i++) {\n//     let categoryName = respArr[i].list_name;\n//     let categoryArr = respArr[i].books;\n//     console.log(categoryArr);\n    \n//     const pageMarkupAllBooks = categoryArr.map(({ _id,\n//         author,\n//         book_image,\n//         title,}\n//    ) => `\n//       <li class=\"part-cards-list-item\" id=\"${_id}\" >\n//          <img class=\"images-prev\" src=\"${book_image}\" alt=\"${title}\" width ='180'>\n//          <p class=\"info-item-title\">${title}</p>\n//          <p class=\"info-item-author\">${author}</p>\n//       </li>\n//        `).join(\"\");\n    \n//       partBoxAllBooks =\n//       `<div class=\"best-sellers-group\">\n//       <div class=\"bestellers-part\">\n//               <p class=\"bestsellers-part-name\">${categoryName}</p>\n//               <ul class=\"part-cards-list\">\n//                   ${pageMarkupAllBooks}\n//               </ul>\n//           </div></div>\n//           <button class=\"btn-best-seemore\" category = \"${categoryName}\">See More</button>\n//       `\n//         pageAllBooks += partBoxAllBooks;\n//   }\n//   const allPartToBox= `<div class=\"all-part-to-box\">${pageAllBooks}</div>`\n//     // refs.catPage.insertAdjacentHTML('beforeend', headPage + pageAllBooks);\n//     mainContentPage.innerHTML = headPage + allPartToBox;\n// }\n\n\n// //----------------\n// catList.addEventListener('click', onFirstSwitch);\n// function onFirstSwitch(e) {\n//   // selectedCategory = e.target.textContent;\n//   // console.log(catListItem.firstChild);\n// if (e.currentTarget === e.target) {\n//     return;\n//   } if (catList.firstChild === e.target) {\n    \n//     allBooksBackend()\n//     //Cюда вставить функцию H1\n//     // mainContentPage.innerHTML = 'Audio Nonfiction';\n//   }\n// //   else {\n// //   selectedCategory = e.target.textContent\n// //   getSelectedCategory(selectedCategory);\n// }\n// // console.log(e.currentTarget);\n// //   console.log(e.target);\n    \n    \n// // };\n\n\n","import axios from 'axios';\nimport Notiflix from 'notiflix';\n// import getAllBestCategory from './part-bestseller'\n\nconst BASEURL = 'https://books-backend.p.goit.global';\nconst CATSELECT = '/books/category?category=';\n\nconst mainContentPage = document.querySelector('.main-content-page');\nlet selectedCategory = '';\nconst catListItem = document.querySelector('.categories-list');\nconst catList = document.querySelector('.categories-list');\n//>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n//  function temp() {\n//    getSelectedCategory('Audio Nonfiction');\n// };temp();\n//  function  temp2() {\n//   const headmainh = `<h1 class=\"head-main-h\">Best Sellers\n//   <span class=\"head-main-h head-main-hdecor\">\n//   Books\n//   </span>\n//    </h1>`;\n//   mainContentPage.insertAdjacentHTML('afterbegin', headmainh)\n// };\n// setTimeout(temp2, 600)\n//<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\n\ncatListItem.addEventListener('click', onCategoriesSwitch);\nfunction onCategoriesSwitch(e) {\n  // selectedCategory = e.target.textContent;\n  // console.log(catListItem.firstChild);\n  if (e.target.textContent === selectedCategory) {\n    return;\n  }\n\n  const activeCategory = document.querySelector('.category-active');\n  if (activeCategory) {\n    activeCategory.classList.remove('category-active');\n  }\n\n  if (e.currentTarget === e.target) {\n    return;\n  }\n\n  if (catListItem.firstChild === e.target) {\n    catListItem.firstChild.classList.add('category-active');\n    selectedCategory = catListItem.firstChild;\n    // getSelectedCategory('Audio Nonfiction')\n    // Cюда вставить функцию H1\n    // mainContentPage.innerHTML = 'Audio Nonfiction';\n  } else {\n    selectedCategory = e.target.textContent;\n    e.target.classList.add('category-active');\n    getSelectedCategory(selectedCategory);\n  }\n\n  // console.log(e.currentTarget);\n  //   console.log(e.target);\n}\n\nexport default async function getSelectedCategory(selectedCategory) {\n  try {\n    const booksSelectedCategory = await axios.get(\n      `${BASEURL}${CATSELECT}${selectedCategory}`\n    );\n    onSelectedCategory(booksSelectedCategory.data);\n    return booksSelectedCategory.data;\n  } catch (error) {\n    console.error(error);\n    Notiflix.Notify.failure('Error');\n  }\n}\n\nfunction onSelectedCategory(respArr) {\n  let headMaidCss;\n\n  function headMaker(category) {\n    // const category = \"Combined Print and E-Book Nonfiction\";\n    const fixLast = category.length - category.lastIndexOf(' ');\n    const lastWorld = category.substring(category.length - fixLast);\n    let lengthFirstPart = category.length - lastWorld.length;\n    const firstPartLenght = category - lengthFirstPart;\n    const firstPart = category.slice(0, lengthFirstPart);\n    // console.log(firstPart);\n    // console.log(lastWorld);\n    return (headMaidCss = `<h1 class=\"head-main-h\">${firstPart}\n  <span class=\"head-main-h head-main-hdecor\">\n  ${lastWorld}\n  </span>\n   </h1>`);\n  }\n  headMaker(selectedCategory);\n  //  console.log(headMaidCss);\n\n  const markupSelectedCategory = respArr\n    .map(\n      ({\n        author,\n        book_image,\n        description,\n        amazon_product_url,\n        title,\n        list_name,\n        _id,\n      }) => `\n       <li class=\"part-cards-list-itemcat\" id=\"${_id}\">\n\n             <div class=\"images-card-box\">\n             <img class=\"images-prevcat\" src=\"${book_image}\"\n              alt=\"${title}\" width ='180' loading=\"lazy\" />\n              <p class=\"hover-text-card\">quick view</p>\n              </div>\n                <div class=\"info\">\n                   <p class=\"info-item-title\"><b>${title}</b></p>\n                   <p class=\"info-item-author\"><b>${author}</b></p>\n             </div>\n       </li>\n       `\n    )\n    .join('');\n  const contentPageCat = `${headMaidCss}\n<ul class=\"main-content-listcat\">\n    ${markupSelectedCategory}\n</ul>`;\n  mainContentPage.innerHTML = contentPageCat;\n}\n\n// // На стр. BestSellers вікриваемо інфо про книгу або відрацьовуемо клік по кнопці SeeMore\nmainContentPage.addEventListener('click', onBookSwitch);\n\nfunction onBookSwitch(e) {\n  const currentCategory = e.target.closest('.btn-best-seemore');\n  // console.log(currentCategory);\n\n  if (currentCategory) {\n    let bookCat = currentCategory.getAttribute('category');\n    console.log(bookCat);\n    selectedCategory = bookCat;\n\n    const categories = catListItem.children;\n    for (let category of categories) {\n      const categoryText = category.textContent.trim();\n      if (categoryText === selectedCategory) {\n        category.classList.add('category-active');\n      } else {\n        category.classList.remove('category-active');\n      }\n    }\n\n    getSelectedCategory(selectedCategory);\n  }\n  return;\n}\n// //////////////////////////////////////////////////////\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALISURBVHgB7ZfPqxJRFMeP42/xF0qbJ2qGWaHQpmjTJlpVuxaBLvwTBMG/RHAt6MZoG7VrZwS16W1SRH2iGBKIv/G3nTsP5c4dvY69sdX7wsU7d86c+7nnnLlzBbjVtTS8m4VCITSbzZ4LgnAHm2Gz2WhAoTQazQbbYrVatfG57/F4/NdB232D+Xz+ATp4j93HoJ5qWq32ZTQavYJjENls9qFer/+G9A5QXwsEeRKLxS7pQYG1QoDPZwIQ3WN6PrBplUDkcrm36/X6LhrBGVsI0/2KnldHX6DBC/g/eoPt014I1D1CywrfDHC73YD5FFcznU6h1+uRN0Bi53A4wGQyiePz+RxGo5H4u0cX9AUbCSML4fV6wePxgE4n5R0Oh1Aul0Ugo9EIoVBIhKC1XC6h2WxCu90G2i9CWiWLpC+wHgQ6fy6XC/x+vwyAyGaziRMTu3A4LAMQV4jPBQIBMYpMXQgHIVgZDAbebbDb7WA2m8FisXDt2EWw0dbxbirRMQAlvrkQ/wJ1CICpicMQWBMSA7UgWF/cdOwzOMU5z0ZxJM6VjmO+uG/HTZ0rtblxJJRGS3FNsIWpltiaYMUtTLpPtuDxeCz26d2RtiGLmEwmsFgswGq1kmPBXjtuYV7bSokHgwGUSiXo9/s7R2QH9Pl8EAwGd3bVahUajYYIuxXZUSORiAyClQQCDxxr8sXcqtPpQKvVkjkgE9Vqtd2KKpUK1Ot1mXOygGKxKIkIEYnYQQh0OqQnxEMu8ERW73Q6xa8kr5ZIeph5ZgchMBK/6UgcEwHudru7/gnPScIm/aQKwsczH+22sF/oedkYatLpdAl/Q3A+XSUSiQA9IHs7sL1D2h977qmhARbla3ZQVgBI+RMPM/cRpAbq6hLT/SyZTMr+iXG3x0wm8wgr+yl2L7Ci9af8DSQbDh6MySn3Dx52v6ZSqRLc6oj+Ana3EmYHZDNIAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","import appStore1 from '../img/shopping/book_grey.png';\nimport amazonImg1 from '../img/shopping/am_grey.png';\n\nconst refs = {\n  catList: document.querySelector('.categoriesList'),\n  catListItem: document.querySelector('.categoriesList'),\n  bestSellersPartName: document.querySelector('.bestSellersPartName'),\n  partCardsPage: document.querySelector('.partCardsList'),\n  btnSeeMore: document.querySelector('.btnBestSellersSeeMore'),\n  cardsBookSmall: document.querySelector('.photo-card'),\n  popupMenuConttent: document.querySelector('.popup-menu-conttent'),\n  btnAddtoShList: document.querySelector('.btn-addto-card'),\n  pAddtoCardCongrat: document.querySelector('.addto-card-congrat'),\n  btnRemoveShList: document.querySelector('.btn-remove-card'),\n  bdropPopup: document.querySelector('.backdrop-popup-menu'),\n  backdropBlock: document.querySelector('.wrapper'),\n  btnCloseInfoBook: document.querySelector('.btn-close-infobook'),\n  bookPage: document.querySelector('.box-popup-menu'),\n  catPage: document.querySelector('.main-content-page'),\n};\nconst STORAGE_KEY = 'user-shopping-list';\nlet shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n\nrefs.catPage.addEventListener('click', onBookSwitch);\n\nfunction onBookSwitch(e) {\n  const currentBook = e.target.closest('.part-cards-list-itemcat');\n  const currentBookBest = e.target.closest('.part-cards-list-item');\n\n  if (currentBook) {\n    let bookId = currentBook.id;\n    bookDetail(bookId);\n  }\n  if (currentBookBest) {\n    let bookId = currentBookBest.id;\n    bookDetail(bookId);\n  }\n  return;\n}\n\nasync function bookDetail(bookId) {\n  return await fetch(`https://books-backend.p.goit.global/books/${bookId}`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    })\n    .then(resp => {\n      creatMarkupBook([resp]);\n    })\n    .catch(err => console.log(err));\n}\n\nlet userBookAdd = [];\n\nfunction auditID() {\n  let [{ _id }] = userBookAdd;\n  let boolBook = false;\n  const userTestBookLS = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n\n  userTestBookLS.find(({ _id: idU }) => {\n    if (idU === _id) {\n      return (boolBook = true);\n    }\n  });\n  return boolBook;\n}\n\nfunction creatMarkupBook(respArr) {\n  userBookAdd = respArr;\n  const infoBuyLinks = respArr[0].buy_links\n    .map(\n      ({ name, url }) =>\n        `<div class=\"boxMarketPlace\">\n         <a href=\"${url}\" class=\"infoMarketPlace\" target=\"_blank\"><b>${name}</b></a>\n       </div>`\n    )\n    .join('');\n\n  const pageMarkupBook = respArr\n    .map(\n      ({\n        author,\n        book_image,\n        description,\n        buy_links: [{ name, url }],\n        buy_links,\n        title,\n        list_name,\n        _id,\n      }) => `\n      <div class=\"photo-card\" id=\"${_id}\">\n        <img class=\"images-photo\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\" height=\"281\" />\n        <div class=\"info\">\n          <h2 class=\"info-title\">${title}</h2>\n          <p class=\"info-author\">${author}</p>\n          <p class=\"info-description\">${description}</p>\n          <div class=\"info-buy-links\">\n            <a href=\"${url}\" class=\"info-by_links\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"Amazon link\">\n              <img class=\"link-img\" src=\"${amazonImg1}\" alt=\"Amazon link\" aria-label=\"Buy this book on Amazon\" />\n            </a>\n            <a href=\"${url}\" class=\"info-by_links\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"AppleBook link\">\n              <img class=\"link-img\" src=\"${appStore1}\" alt=\"Apple Books link\" aria-label=\"Buy this book on Apple Books\" />\n            </a>\n          </div>\n        </div>\n      </div>`\n    )\n    .join('');\n\n  let auditIdBook = auditID();\n\n  if (auditIdBook) {\n    refs.btnAddtoShList.classList.add('hidden');\n    refs.btnRemoveShList.classList.remove('hidden');\n  } else {\n    refs.btnAddtoShList.classList.remove('hidden');\n  }\n\n  refs.popupMenuConttent.innerHTML = pageMarkupBook;\n  refs.bookPage.classList.remove('is-hidden');\n  refs.bdropPopup.classList.remove('is-hidden');\n  refs.backdropBlock.classList.add('backdrop-block');\n}\n\nlet userBookAddStor = [];\n\nrefs.btnCloseInfoBook.addEventListener('click', onClickClosefoBook);\n\nfunction onClickClosefoBook() {\n  refs.backdropBlock.classList.remove('backdrop-block');\n  refs.bookPage.classList.add('is-hidden');\n  refs.bdropPopup.classList.add('is-hidden');\n  refs.pAddtoCardCongrat.classList.add('hidden');\n  refs.btnRemoveShList.classList.add('hidden');\n  refs.btnAddtoShList.classList.remove('hidden');\n}\n\nrefs.btnAddtoShList.addEventListener('click', onClickAddtoShList);\nrefs.btnRemoveShList.addEventListener('click', onClickRemoveShList);\n\nfunction onClickAddtoShList() {\n  refs.btnAddtoShList.classList.add('hidden');\n  refs.pAddtoCardCongrat.classList.remove('hidden');\n  refs.btnRemoveShList.classList.remove('hidden');\n\n  let [{ _id }] = userBookAdd;\n  let boolBook = false;\n  shoppingList.find(({ _id: idU }) => {\n    if (idU === _id) {\n      return (boolBook = true);\n    }\n  });\n\n  if (boolBook) {\n    return;\n  }\n\n  shoppingList.push(...userBookAdd);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(shoppingList));\n  shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY));\n}\n\nfunction onClickRemoveShList() {\n  refs.btnAddtoShList.classList.remove('hidden');\n  refs.pAddtoCardCongrat.classList.add('hidden');\n  refs.btnRemoveShList.classList.add('hidden');\n\n  shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n  let [{ _id: idBook }] = userBookAdd;\n  const product = shoppingList.findIndex(({ _id: id }) => id === idBook);\n\n  if (product !== -1) {\n    shoppingList.splice(product, 1);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(shoppingList));\n    refs.btnAddtoShList.classList.remove('hidden');\n    refs.btnRemoveShList.classList.add('hidden');\n  } else {\n    return;\n  }\n}\n\nrefs.bdropPopup.addEventListener('click', onClickBackdrop);\n\nfunction onClickBackdrop(event) {\n  if (event.target === refs.bdropPopup) {\n    closeBookPage();\n  }\n}\n\ndocument.addEventListener('keydown', onEscPress);\n\nfunction onEscPress(event) {\n  if (event.key === 'Escape') {\n    closeBookPage();\n  }\n}\n\nfunction closeBookPage() {\n  refs.backdropBlock.classList.remove('backdrop-block');\n  refs.bookPage.classList.add('is-hidden');\n  refs.bdropPopup.classList.add('is-hidden');\n  refs.pAddtoCardCongrat.classList.add('hidden');\n  refs.btnRemoveShList.classList.add('hidden');\n  refs.btnAddtoShList.classList.remove('hidden');\n}\n\n// const appStore1 = '/img/shopping/book_grey.png';\n// const amazonImg1 = '/img/shopping/am_grey.png';\n\n// const refs = {\n//   catList: document.querySelector('.categoriesList'),\n//   catListItem: document.querySelector('.categoriesList'),\n\n//   bestSellersPartName: document.querySelector('.bestSellersPartName'),\n//   partCardsPage: document.querySelector('.partCardsList'),\n//   btnSeeMore: document.querySelector('.btnBestSellersSeeMore'),\n//   cardsBookSmall: document.querySelector('.photo-card'),\n//   //   shoppingList: document.querySelector('.js-shop-list'),\n\n//   popupMenuConttent: document.querySelector('.popup-menu-conttent'),\n//   btnAddtoShList: document.querySelector('.btn-addto-card'),\n//   pAddtoCardCongrat: document.querySelector('.addto-card-congrat'),\n//   btnRemoveShList: document.querySelector('.btn-remove-card'),\n\n//   bdropPopup: document.querySelector('.backdrop-popup-menu'),\n//   backdropBlock: document.querySelector('.wrapper'),\n//   btnCloseInfoBook: document.querySelector('.btn-close-infobook'),\n//   bookPage: document.querySelector('.box-popup-menu'),\n//   catPage: document.querySelector('.main-content-page'),\n// };\n// const STORAGE_KEY = 'user-shopping-list';\n\n// let shoppingList = [];\n// // if (localStorage.getItem(STORAGE_KEY)) {\n// //   shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY));\n// // } else {\n// //   shoppingList = [];\n// // }\n\n// // console.log(`shoppingList - ${[shoppingList]}`);\n\n// // // На стр. BestSellers вікриваемо інфо про книгу або відрацьовуемо клік по кнопці SeeMore\n// refs.catPage.addEventListener('click', onBookSwitch);\n\n// function onBookSwitch(e) {\n//   // const currentBook = e.target.closest(\".photo-card\")\n//   const currentBook = e.target.closest('.part-cards-list-itemcat');\n//   const currentBookBest = e.target.closest('.part-cards-list-item');\n\n//   if (currentBook) {\n//     let bookId = currentBook.id;\n//     bookDetail(bookId);\n//   }\n//   if (currentBookBest) {\n//     let bookId = currentBookBest.id;\n//     bookDetail(bookId);\n\n//     // let bookCat = currentCategory.getAttribute(\"category\");\n//     // selectedCategory = bookCat;\n//     // booksSelectedCategory(selectedCategory);\n//     // console.log(bookCat);\n//   }\n//   return;\n// }\n// // //////////////////////////////////////////////////////////////\n\n// // // ---->>>>>>   Детальна інформація про книгу  <<<<<<-----//??????????????????????????????\n// async function bookDetail(bookId) {\n//   return await fetch(`https://books-backend.p.goit.global/books/${bookId}`)\n//     .then(resp => {\n//       if (!resp.ok) {\n//         throw new Error(resp.statusText);\n//       }\n//       return resp.json();\n//     })\n//     .then(resp => {\n//       //   console.log([resp]);\n//       creatMarkupBook([resp]);\n//     })\n//     .catch(err => console.log(err));\n// }\n\n// let userBookAdd = [];\n// // foo для перевірки id поточної книги в локал стор -> вертає буль значення\n// function auditID() {\n//   let [{ _id }] = userBookAdd;\n//   let boolBook = false;\n//   const userTestBookLS = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n\n//   userTestBookLS.find(({ _id: idU }) => {\n//     if (idU === _id) {\n//       return (boolBook = true);\n//     }\n//   });\n//   return boolBook;\n// }\n\n// function creatMarkupBook(respArr) {\n//   userBookAdd = respArr;\n//   const infoBuyLinks = respArr[0].buy_links\n//     .map(\n//       ({ name, url }) =>\n//         `\n\n//      <div class=\"boxMarketPlace\">\n//      <a href=\"${url}\" class=\"infoMarketPlace\" target=\"_blank\"><b>${name}</b></a>\n//      </div>\n//        `\n//     )\n//     .join('');\n\n//   const pageMarkupBook = respArr\n//     .map(\n//       ({\n//         author,\n//         book_image,\n//         description,\n//         buy_links: [{ name, url }],\n//         buy_links,\n//         title,\n//         list_name,\n//         _id,\n//       }) => `\n//        <div class=\"photo-card\" id=\"${_id}\">\n\n//              <img class=\"images-photo\" src=\"${book_image}\"\n//               alt=\"${title}\" loading=\"lazy\" hight=\"281\" />\n//                 <div class=\"info\">\n//                    <h2 class=\"info-title\">${title}</h2>\n//                    <p class=\"info-author\">${author}</p>\n//                    <p class=\"info-description\">${description}</p>\n//                    <div class=\"info-buy-links\">\n//                    <a href=\"${url}\" class=\"info-by_links\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"Amazon link\">\n//                    <img class=\"link-img\" src=\"${amazonImg1}\" alt=\"Amazon link\" aria-label=\"Buy this book on Amazon\" /></a>\n//                    <a href=\"${url}\" class=\"info-by_links\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"AppleBook link\">\n//                    <img class=\"link-img\" src=\"${appStore1}\" alt=\"Appl Books link\" aria-label=\"Buy this book on Appl Books\" /></a>\n//                    </div>\n//                    </div>\n\n//        </div>\n//        `\n//     )\n//     .join('');\n//   // refs.bookPage.insertAdjacentHTML('beforeend', pageMarkupBook);\n\n//   // перевіряє чи є книга в локал стор і відображає коректну кнопку\n//   let auditIdBook = auditID();\n\n//   console.log(auditIdBook);\n//   if (auditIdBook) {\n//     refs.btnAddtoShList.classList.add('hidden');\n//     refs.btnRemoveShList.classList.remove('hidden');\n//   } else {\n//     refs.btnAddtoShList.classList.remove('hidden');\n//   }\n\n//   refs.popupMenuConttent.innerHTML = pageMarkupBook;\n//   refs.bookPage.classList.remove('is-hidden');\n//   refs.bdropPopup.classList.remove('is-hidden');\n//   refs.backdropBlock.classList.add('backdrop-block');\n//   //    refs.bookPage.insertAdjacentHTML('beforeend', pageMarkupBook);\n// }\n// // //////////////////////////////////////////////////////////////\n\n// let userBookAddStor = [];\n// // console.log(userBookAddStor);\n\n// refs.btnCloseInfoBook.addEventListener('click', onClickClosefoBook);\n\n// function onClickClosefoBook() {\n//   refs.backdropBlock.classList.remove('backdrop-block');\n//   refs.bookPage.classList.add('is-hidden');\n//   refs.bdropPopup.classList.add('is-hidden');\n//   refs.pAddtoCardCongrat.classList.add('hidden');\n//   refs.btnRemoveShList.classList.add('hidden');\n//   refs.btnAddtoShList.classList.remove('hidden');\n// }\n\n// refs.btnAddtoShList.addEventListener('click', onClickAddtoShList);\n// refs.btnRemoveShList.addEventListener('click', onClickRemoveShList);\n\n// function onClickAddtoShList() {\n//   refs.btnAddtoShList.classList.add('hidden');\n//   refs.pAddtoCardCongrat.classList.remove('hidden');\n//   refs.btnRemoveShList.classList.remove('hidden');\n\n//   // перевіряє чи є дана книга в локал стор\n//   // console.log('userbook', userBookAdd);\n//   // let [{ _id }] = userBookAdd;\n//   // console.log('userBookAddStor', userBookAddStor);\n//   // console.log('id', _id);\n//   // let boolBook = auditID();\n//   // console.log('boolBook', boolBook);\n//   // console.log('boolbook', boolBook);\n//   // якщо відсутня то додає в локал стор\n\n//   let [{ _id }] = userBookAdd;\n//   let boolBook = false;\n//   shoppingList.find(({ _id: idU }) => {\n//     if (idU === _id) {\n//       return (boolBook = true);\n//     }\n//   });\n\n//   if (boolBook) {\n//     return;\n//   }\n//   console.log('shoppingList', shoppingList);\n//   shoppingList.push(...userBookAdd);\n//   // console.log('userBookAddStor', userBookAddStor);\n//   localStorage.setItem(STORAGE_KEY, JSON.stringify(shoppingList));\n//   // console.log('userBookAddStor setitem', userBookAddStor);\n//   shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY));\n//   // console.log('shoppingList getitem', shoppingList);\n//   // console.log('shoppingList', shoppingList);\n\n//   // console.log(JSON.stringify(...userBookAdd));\n//   // console.log(JSON.stringify(...shoppingList));\n\n//   // const checkId = [{sadasd}, {adsad}, {dasdasdas}]\n//   // const checkIasdasd = '643282b1e85766588626a0dc';\n\n//   // console.log(checkIasdasd.includes(2));\n\n//   // if (checkId) {\n//   //       console.log(checkId);\n//   // }\n\n//   // let result = userBookAdd.filter((item) => {\n\n//   //                  JSON.stringify(shoppingList).indexOf(JSON.stringify(item)) === -1;\n//   //             });\n\n//   // console.log(result);\n// }\n\n// function onClickRemoveShList() {\n//   refs.btnAddtoShList.classList.remove('hidden');\n//   refs.pAddtoCardCongrat.classList.add('hidden');\n//   refs.btnRemoveShList.classList.add('hidden');\n\n//   //видалення елементу з мас\n//   shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n//   // console.log(shoppingList);\n//   let [{ _id: idBook }] = userBookAdd;\n//   // console.log(idBook);\n//   const product = shoppingList.findIndex(({ _id: id }) => id === idBook);\n//   console.log('product', product);\n//   if (product !== -1) {\n//     shoppingList.splice(product, 1);\n//     localStorage.setItem(STORAGE_KEY, JSON.stringify(shoppingList));\n//     refs.btnAddtoShList.classList.remove('hidden');\n//     refs.btnRemoveShList.classList.add('hidden');\n//   } else {\n//     return;\n//   }\n// }\n\n// // refs.bookPage.addEventListener('click', onClickBookInfo);\n// // function onClickBookInfo(e) {\n// //     refs.btnAddtoCard = e.target.closest(\".btn-addto-card\")\n// //      refs.btnRemoveCard = e.target.closest(\".btn-remove-card\")\n// //       refs.btnCloseBookPage = e.target.closest(\".btn-close-infobook\")\n// //       console.log(btnAddtoCard);\n// //       console.log(btnRemoveCard);\n// //       console.log(btnCloseBookPage);\n\n// // //     const btnAddtoCard = e.target.closest(\".btn-addto-card\")\n// // //     const btnRemoveCard = e.target.closest(\".btn-remove-card\")\n// // //       const btnCloseBookPage = e.target.closest(\".btn-close-infobook\")\n\n// //       console.log(object);\n// //     if (btnAddtoCard) {\n// //           console.log('btnAddtoCard');\n// //       //     btnAddtoCard.classList.add('hidden')\n// //       //     btnRemoveCard.classList.remove('hidden')\n// //      refs.btnAddtoCard.hidden = true;\n// //      refs.btnRemoveCard.hidden = false;\n\n// //       //   refs.btnRemoveShList.classList.remove('hidden');\n\n// //     } if (btnRemoveCard) {\n// //       //   btnAddtoCard.classList.remove('hidden')\n// //       // btnRemoveCard.classList.add('hidden')\n// //     console.log('btnRemoveCard');\n// //       } if (btnCloseBookPage) {\n// //           refs.backdropBlock.classList.remove('backdrop-block')\n// //           refs.bookPage.classList.add('hidden');\n// //           refs.bdropPopup.classList.add('hidden')\n\n// //      }return\n\n// // // };\n// // const atTheOldToad = {\n// //   potions: [\n// //     { name: \"Speed potion\", price: 460 },\n// //     { name: \"Dragon breath\", price: 780 },\n// //     { name: \"Stone skin\", price: 520 },\n// //   ],\n\n// //   getPotions() {\n// //     return this.potions;\n// //   },\n// //   addPotion(newPotion) {\n// //     // { name: 'blablabla', price: 200}\n// //     for (const potion of this.potions) {\n// //       if (potion.name === newPotion.name) {\n// //         return `Error! Potion ${newPotion.name} is already in your inventory!`;\n// //       }\n// //     }\n// //     this.potions.push(newPotion);\n// //   },\n// //   removePotion(potionName) {\n// //     for (let i = 0; i < this.potions.length; i += 1) {\n// //       if (this.potions[i].name === potionName) {\n// //         this.potions.splice(i, 1);\n// //         return;\n// //       }\n// //     }\n// //     return `Potion ${potionName} is not in inventory!`;\n// //   },\n// //   updatePotionName(oldName, newName) {\n// //     for (const potion of this.potions) {\n// //       if (potion.name === oldName) {\n// //         potion.name = newName;\n// //         return;\n// //       }\n// //     }\n// //     return `Potion ${oldName} is not in inventory!`;\n// //   },\n// //   // Change code above this line\n// // };\n\n// // // addPotion({ name: \"Speed potion\", price: 460 })\n// // console.log(addPotion({ name: \"Speed potion\", price: 460 }));\n","import axios from 'axios';\nimport Notiflix from 'notiflix';\n\nconst BASEURL = 'https://books-backend.p.goit.global';\nconst ALLCAT = '/books/top-books';\nconst catList = document.querySelector('.categories-list');\n\nconst mainContentPage = document.querySelector('.main-content-page');\nconst categoryItem = document.querySelector('.category-item');\nconst numberBlocksPage = 18;\n\nasync function getAllBestCategory() {\n  try {\n    const allBestCategory = await axios.get(`${BASEURL}${ALLCAT}`);\n\n    // console.log(AllBestCategory);\n    return allBestCategory.data;\n  } catch (error) {\n    console.error(error);\n    Notiflix.Notify.failure('Error');\n  }\n}\n\ngetAllBestCategory()\n  .then(data => {\n    // console.log(data);\n    createPageAllBooks(data);\n  })\n  .catch(err => console.log(err));\n\nfunction createPageAllBooks(respArr) {\n  const headPage = `<h1 class=\"head-main-h\">Best Sellers\n  <span class=\"head-main-h head-main-hdecor\">\n  Books\n  </span>\n   </h1>`;\n  let partBoxAllBooks = '';\n  let pageAllBooks = '';\n  // console.log(respArr);\n  for (let i = 0; i < numberBlocksPage; i++) {\n    let categoryName = respArr[i].list_name;\n    let categoryArr = respArr[i].books;\n    // console.log(categoryArr);\n\n    const pageMarkupAllBooks = categoryArr\n      .map(\n        ({ _id, author, book_image, title }) => `\n      <li class=\"part-cards-list-item\" id=\"${_id}\" >\n         <img class=\"images-prev\" src=\"${book_image}\" alt=\"${title}\" width ='180'>\n         <p class=\"info-item-title\">${title}</p>\n         <p class=\"info-item-author\">${author}</p>\n      </li>\n       `\n      )\n      .join('');\n\n    partBoxAllBooks = `<div class=\"best-sellers-group\">\n      <div class=\"bestellers-part\">\n              <p class=\"bestsellers-part-name\">${categoryName}</p>\n              <ul class=\"part-cards-list\">\n                  ${pageMarkupAllBooks}\n              </ul>\n          </div></div>\n          <button class=\"btn-best-seemore\" category = \"${categoryName}\">See More</button>\n      `;\n    pageAllBooks += partBoxAllBooks;\n  }\n  const allPartToBox = `<div class=\"all-part-to-box\">${pageAllBooks}</div>`;\n  // refs.catPage.insertAdjacentHTML('beforeend', headPage + pageAllBooks);\n  mainContentPage.innerHTML = headPage + allPartToBox;\n}\n\nlet selectedCategory = '';\n////////\ncatList.addEventListener('click', onFirstSwitch);\n// let selectedCategory = '';\nfunction onFirstSwitch(e) {\n  selectedCategory = e.target.textContent;\n  // console.log(selectedCategory);\n  //   console.log(catList.firstChild);\n  // if (e.currentTarget === e.target) {\n  //     return;\n  //     }\n\n  if (selectedCategory === 'All categories') {\n    // console.log(selectedCategory);\n    getAllBestCategory()\n      .then(data => {\n        // console.log(data);\n        createPageAllBooks(data);\n      })\n      .catch(err => console.log(err));\n    //Cюда вставить функцию H1\n    // mainContentPage.innerHTML = 'Audio Nonfiction';\n  }\n  //   else {\n  //   selectedCategory = e.target.textContent\n  //   getAllBestCategory()\n  //     }\n}\n"],"names":["BASEURL","CATLIST","listCategory","axios","error","catList","resp","markupCatList","Notiflix","respArr","categoriesList","list_name","itemFirstEl","CATSELECT","mainContentPage","selectedCategory","catListItem","onCategoriesSwitch","e","activeCategory","getSelectedCategory","booksSelectedCategory","onSelectedCategory","headMaidCss","headMaker","category","fixLast","lastWorld","lengthFirstPart","markupSelectedCategory","author","book_image","description","amazon_product_url","title","_id","contentPageCat","onBookSwitch","currentCategory","bookCat","categories","appStore1","amazonImg1","refs","STORAGE_KEY","shoppingList","currentBook","currentBookBest","bookId","bookDetail","creatMarkupBook","err","userBookAdd","auditID","boolBook","idU","name","url","pageMarkupBook","buy_links","onClickClosefoBook","onClickAddtoShList","onClickRemoveShList","idBook","product","id","onClickBackdrop","event","closeBookPage","onEscPress","ALLCAT","numberBlocksPage","getAllBestCategory","data","createPageAllBooks","headPage","partBoxAllBooks","pageAllBooks","categoryName","pageMarkupAllBooks","allPartToBox","onFirstSwitch"],"mappings":"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"}