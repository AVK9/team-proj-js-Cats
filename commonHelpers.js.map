{"version":3,"file":"commonHelpers.js","sources":["../src/js/axios.js","../src/js/part-all-categories.js","../src/js/main-content-page.js","../src/img/shopping/book.png","../src/img/shopping/am.png","../src/js/popup-menu.js","../src/js/part-bestseller.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASEURL = 'https://books-backend.p.goit.global';\nconst CATLIST = '/books/category-list';\n\n\nexport default async function listCategory() {\n  try {\n    const listCategories = await axios.get(`${BASEURL}${CATLIST}`);\n    return listCategories.data\n  }\n  catch (error) {\n    console.error(error);\n  }\n};\n\n\n\n","import Notiflix from 'notiflix';\nimport listCategory from './axios'\n// import allBooksBackend from './axios'\n\n const mainContentPage = document.querySelector('.main-content-page');\nconst numberBlocksPage = 4;\n\nconst catList = document.querySelector('.categories-list');\nlistCategory()\n    .then(resp => {\n        markupCatList(resp);\n\n    })\n    .catch(error => {\n        Notiflix.Notify.failure('Error');\n        console.log(error)\n    });\n\nfunction markupCatList(respArr) {\n    const categoriesList = respArr.map(({ list_name }\n    ) => `\n       <li class=\"category-item\">${list_name}</li>\n       `).join(\"\");\n    const itemFirstEl = '<li class=\"category-item category-item-firstelm\">All categories</li>';\n    catList.innerHTML = itemFirstEl + categoriesList;\n    const catFirstElement = document.querySelector('.category-item-firstelm');\n    // console.log(catFirstElement);\n    catFirstElement.classList.add('category-active');\n}\n////////////////////////////////////////////////////////////\n\n// async function allBooksBackend() {\n//     const BASE_URL = 'https://books-backend.p.goit.global/books/top-books';\n//     return await fetch(`${BASE_URL}`)\n//        .then((resp) => {\n//     if (!resp.ok) {\n//       throw new Error(resp.statusText);\n//     }\n//     return resp.json();\n//   });\n// }\n// //---------------------------\n\n// await allBooksBackend()\n//     .then((data) => {\n//       console.log(data);\n//        createPageAllBooks(data);\n//   })\n//     .catch((err) => console.log(err));\n        \n\n    \n// function createPageAllBooks(respArr) {\n//     const headPage = `<h1 class=\"head-main-h\">Best Sellers\n//   <span class=\"head-main-h head-main-hdecor\">\n//   Books\n//   </span>\n//    </h1>`;\n//     let partBoxAllBooks = '';\n//     let pageAllBooks = '';\n// console.log(respArr);\n//     for (let i = 0; i < numberBlocksPage; i++) {\n//     let categoryName = respArr[i].list_name;\n//     let categoryArr = respArr[i].books;\n//     console.log(categoryArr);\n    \n//     const pageMarkupAllBooks = categoryArr.map(({ _id,\n//         author,\n//         book_image,\n//         title,}\n//    ) => `\n//       <li class=\"part-cards-list-item\" id=\"${_id}\" >\n//          <img class=\"images-prev\" src=\"${book_image}\" alt=\"${title}\" width ='180'>\n//          <p class=\"info-item-title\">${title}</p>\n//          <p class=\"info-item-author\">${author}</p>\n//       </li>\n//        `).join(\"\");\n    \n//       partBoxAllBooks =\n//       `<div class=\"best-sellers-group\">\n//       <div class=\"bestellers-part\">\n//               <p class=\"bestsellers-part-name\">${categoryName}</p>\n//               <ul class=\"part-cards-list\">\n//                   ${pageMarkupAllBooks}\n//               </ul>\n//           </div></div>\n//           <button class=\"btn-best-seemore\" category = \"${categoryName}\">See More</button>\n//       `\n//         pageAllBooks += partBoxAllBooks;\n//   }\n//   const allPartToBox= `<div class=\"all-part-to-box\">${pageAllBooks}</div>`\n//     // refs.catPage.insertAdjacentHTML('beforeend', headPage + pageAllBooks);\n//     mainContentPage.innerHTML = headPage + allPartToBox;\n// }\n\n\n// //----------------\n// catList.addEventListener('click', onFirstSwitch);\n// function onFirstSwitch(e) {\n//   // selectedCategory = e.target.textContent;\n//   // console.log(catListItem.firstChild);\n// if (e.currentTarget === e.target) {\n//     return;\n//   } if (catList.firstChild === e.target) {\n    \n//     allBooksBackend()\n//     //Cюда вставить функцию H1\n//     // mainContentPage.innerHTML = 'Audio Nonfiction';\n//   }\n// //   else {\n// //   selectedCategory = e.target.textContent\n// //   getSelectedCategory(selectedCategory);\n// }\n// // console.log(e.currentTarget);\n// //   console.log(e.target);\n    \n    \n// // };\n\n\n","import axios from 'axios';\nimport Notiflix from 'notiflix';\n// import getAllBestCategory from './part-bestseller'\nconst loader = document.querySelector('.loader');\nconst BASEURL = 'https://books-backend.p.goit.global';\nconst CATSELECT = '/books/category?category=';\n\nconst mainContentPage = document.querySelector('.main-content-page');\nlet selectedCategory = '';\nconst catListItem = document.querySelector('.categories-list');\nconst catList = document.querySelector('.categories-list');\n//>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\n\n//<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\n\ncatListItem.addEventListener('click', onCategoriesSwitch);\nfunction onCategoriesSwitch(e) {\n  // selectedCategory = e.target.textContent;\n  // console.log(catListItem.firstChild);\n  if (e.target.textContent === selectedCategory) {\n    return;\n  }\n\n  const activeCategory = document.querySelector('.category-active');\n  if (activeCategory) {\n    activeCategory.classList.remove('category-active');\n  }\n\n  if (e.currentTarget === e.target) {\n    return;\n  }\n\n  if (catListItem.firstChild === e.target) {\n    catListItem.firstChild.classList.add('category-active');\n    selectedCategory = catListItem.firstChild;\n    // getSelectedCategory('Audio Nonfiction')\n    // Cюда вставить функцию H1\n    // mainContentPage.innerHTML = 'Audio Nonfiction';\n  } else {\n    selectedCategory = e.target.textContent;\n    e.target.classList.add('category-active');\n    getSelectedCategory(selectedCategory);\n  }\n\n  // console.log(e.currentTarget);\n  //   console.log(e.target);\n}\n\nexport default async function getSelectedCategory(selectedCategory) {\n  try {\nloader.style.display = 'initial';\n    const booksSelectedCategory = await axios.get(\n      `${BASEURL}${CATSELECT}${selectedCategory}`\n    );\n    loader.style.display = 'none';\n    onSelectedCategory(booksSelectedCategory.data);\n    return booksSelectedCategory.data;\n  } catch (error) {\n    console.error(error);\n    Notiflix.Notify.failure('Error');\n  }\n}\n\nfunction onSelectedCategory(respArr) {\n  let headMaidCss;\n\n  function headMaker(category) {\n    // const category = \"Combined Print and E-Book Nonfiction\";\n    const fixLast = category.length - category.lastIndexOf(' ');\n    const lastWorld = category.substring(category.length - fixLast);\n    let lengthFirstPart = category.length - lastWorld.length;\n    const firstPartLenght = category - lengthFirstPart;\n    const firstPart = category.slice(0, lengthFirstPart);\n    // console.log(firstPart);\n    // console.log(lastWorld);\n    return (headMaidCss = `<h1 class=\"head-main-h\">${firstPart}\n  <span class=\"head-main-h head-main-hdecor\">\n  ${lastWorld}\n  </span>\n   </h1>`);\n  }\n  headMaker(selectedCategory);\n  //  console.log(headMaidCss);\n\n  const markupSelectedCategory = respArr\n    .map(\n      ({\n        author,\n        book_image,\n        description,\n        amazon_product_url,\n        title,\n        list_name,\n        _id,\n      }) => `\n       <li class=\"part-cards-list-itemcat\" id=\"${_id}\">\n\n             <div class=\"images-card-box\">\n             <img class=\"images-prevcat\" src=\"${book_image}\"\n              alt=\"${title}\" width ='180' loading=\"lazy\" />\n              <p class=\"hover-text-card\">quick view</p>\n              </div>\n                <div class=\"info-block-card\">\n                   <p class=\"infos-item-title\">${title}</p>\n                   <p class=\"infos-item-author\">${author}</p>\n             </div>\n       </li>\n       `\n    )\n    .join('');\n  const contentPageCat = `${headMaidCss}\n<ul class=\"main-content-listcat\">\n    ${markupSelectedCategory}\n</ul>`;\n  mainContentPage.innerHTML = contentPageCat;\n}\n\n// // На стр. BestSellers вікриваемо інфо про книгу або відрацьовуемо клік по кнопці SeeMore\nmainContentPage.addEventListener('click', onBookSwitch);\n\nfunction onBookSwitch(e) {\n  const currentCategory = e.target.closest('.btn-best-seemore');\n  // console.log(currentCategory);\n\n  if (currentCategory) {\n    let bookCat = currentCategory.getAttribute('category');\n    console.log(bookCat);\n    selectedCategory = bookCat;\n\n    const categories = catListItem.children;\n    for (let category of categories) {\n      const categoryText = category.textContent.trim();\n      if (categoryText === selectedCategory) {\n        category.classList.add('category-active');\n      } else {\n        category.classList.remove('category-active');\n      }\n    }\n\n    getSelectedCategory(selectedCategory);\n  }\n  return;\n}\n// //////////////////////////////////////////////////////\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAgCAYAAACcuBHKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN/SURBVHgB7VdJjExBGP7+6uluYmgkthmS0YdhLpYgHIZEuFhCiHBxJXFzEOHiKBFbuFhCxBEniUQcjEhExBJMIhwsI5a2RmaEWbpf/f5+vVW9rvf6dTJu8yeVrqr31V9f/VtVA2NSEor6yOfTnV6y0E2gaQpIaY7Gm6IIrDXyDP6c0N4j2oWXaIYEX8Q8RvKKdBdi9OQtjeTX0B70oREJPof5rJIPQJQpz8DNNWw+EpcnxlLaNdJrIlrqllDqpqzL+GvdPBvMR+KSovYaM+YT1XZQJqJwNrUVmjqkodg48BvW2DHmkLH8dnrn0uvMfS0SxLSaWYDlhsBvWINjjJBxqa82mPta7hCWWXKZuWUikN0Iamkt2gvc3wd8vC2slY1rXwWamAUSKfDfHPDtMfAnB4eH2kJJKKY0cwC/7ABo0V4gPcnQIfL1CfStncDAe6B1NtTaC8DsVTZmuB/88Ai495Sc0FRMrda+5kB7MjZ8SR2bQcsPWQSqMmMJaO0lwYmSTdctAlVJZ0ArD4Oy26yYUcwq1BLggHknzEGUUNsKcKYLmNoVicO4GaVYqIi2XW6T8IqaDUDANU6ZsqAxhv14q0VbIOzswKxEb0V0jGpALY0QJb26Vhg4cDpbg2+mJi3BMYoWw3ZBlCWgFWplluNv0CyJaEuYNGOW5dgkjHGgvtS7o2yE0uI4loiJqViCAoTgsAQb2UEajfXHwFRLtt8v8ohKUU7YlS2OqWORgBUTHBmYdXXC6A9JCf7xxvcntS9yY7w8+KdgBvtB0+cB4yeXiVJdgQolIbcoWyW+mCCfnkPfOAjOPRVFhdLkuMlQy3dDrdlftZbuOQF+cAY89AuVoKb2xVBbTjeXHfImLNe1Eki/kDvh0WU5YcFYKN//9kPfOSrdhG8Jfesw9L2TZUgtu/jDM3inusUiGcttHBUTYonf1Y2KMvDD/Iqg6J5jQEc3+NlVub4TcIuk4+Bva70E83AoCU9TLgHrzHWxSdXT+DSA13f90l3JJK7D1PQYFehdgKbBiNUNjni2uZ5u/s1b/4SDS09lXlb0uA5WYU4j+2a+kgTpxP+TvtTRL3MRZgn/DtV6OzQX/EAa7ebxgBTD9UFWzuTlAzM78sMoPiKzCBNXwEQK97KiHenjuVcuVeHL9s7q8pRaxqzbpJImm/0bKPEyIhn8nRN837X5mATlH/NXv+oaRoVuAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","import appStore1 from '../img/shopping/book.png';\nimport amazonImg1 from '../img/shopping/am.png';\n\nconst refs = {\n  catList: document.querySelector('.categoriesList'),\n  catListItem: document.querySelector('.categoriesList'),\n  bestSellersPartName: document.querySelector('.bestSellersPartName'),\n  partCardsPage: document.querySelector('.partCardsList'),\n  btnSeeMore: document.querySelector('.btnBestSellersSeeMore'),\n  cardsBookSmall: document.querySelector('.photo-card'),\n  popupMenuConttent: document.querySelector('.popup-menu-conttent'),\n  btnAddtoShList: document.querySelector('.btn-addto-card'),\n  pAddtoCardCongrat: document.querySelector('.addto-card-congrat'),\n  btnRemoveShList: document.querySelector('.btn-remove-card'),\n  bdropPopup: document.querySelector('.backdrop-popup-menu'),\n  backdropBlock: document.querySelector('.wrapper'),\n  btnCloseInfoBook: document.querySelector('.btn-close-infobook'),\n  bookPage: document.querySelector('.box-popup-menu'),\n  catPage: document.querySelector('.main-content-page'),\n};\nconst STORAGE_KEY = 'user-shopping-list';\nlet shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n\nrefs.catPage.addEventListener('click', onBookSwitch);\n\nfunction onBookSwitch(e) {\n  const currentBook = e.target.closest('.part-cards-list-itemcat');\n  const currentBookBest = e.target.closest('.part-cards-list-item');\n\n  if (currentBook) {\n    let bookId = currentBook.id;\n    bookDetail(bookId);\n  }\n  if (currentBookBest) {\n    let bookId = currentBookBest.id;\n    bookDetail(bookId);\n  }\n  return;\n}\n\nasync function bookDetail(bookId) {\n  return await fetch(`https://books-backend.p.goit.global/books/${bookId}`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    })\n    .then(resp => {\n      creatMarkupBook([resp]);\n    })\n    .catch(err => console.log(err));\n}\n\nlet userBookAdd = [];\n\nfunction auditID() {\n  let [{ _id }] = userBookAdd;\n  let boolBook = false;\n  const userTestBookLS = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n\n  userTestBookLS.find(({ _id: idU }) => {\n    if (idU === _id) {\n      return (boolBook = true);\n    }\n  });\n  return boolBook;\n}\n\nfunction creatMarkupBook(respArr) {\n  userBookAdd = respArr;\n  const infoBuyLinks = respArr[0].buy_links\n    .map(\n      ({ name, url }) =>\n        `<div class=\"boxMarketPlace\">\n         <a href=\"${url}\" class=\"infoMarketPlace\" target=\"_blank\"><b>${name}</b></a>\n       </div>`\n    )\n    .join('');\n\n  const pageMarkupBook = respArr\n    .map(\n      ({\n        author,\n        book_image,\n        description,\n        buy_links: [{ name, url }],\n        buy_links,\n        title,\n        list_name,\n        _id,\n      }) => `\n      <div class=\"photo-card\" id=\"${_id}\">\n        <img class=\"images-photo\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\" height=\"281\" />\n        <div class=\"info\">\n          <h2 class=\"info-title\">${title}</h2>\n          <p class=\"info-author\">${author}</p>\n          <p class=\"info-description\">${description}</p>\n          <div class=\"info-buy-links\">\n            <a href=\"${buy_links[0].url}\" class=\"info-by-links\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"Amazon link\">\n              <img class=\"link-img-amazon\" src=\"${amazonImg1}\" alt=\"Amazon link\" aria-label=\"Buy this book on Amazon\" />\n            </a>\n            <a href=\"${buy_links[1].url}\" class=\"info-by-links\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"AppleBook link\">\n              <img class=\"link-img-bookapp\" src=\"${appStore1}\" alt=\"Apple Books link\" aria-label=\"Buy this book on Apple Books\" />\n            </a>\n          </div>\n        </div>\n      </div>`\n    )\n    .join('');\n\n  let auditIdBook = auditID();\n\n  if (auditIdBook) {\n    refs.btnAddtoShList.classList.add('hidden');\n    refs.btnRemoveShList.classList.remove('hidden');\n  } else {\n    refs.btnAddtoShList.classList.remove('hidden');\n  }\n\n  refs.popupMenuConttent.innerHTML = pageMarkupBook;\n  refs.bookPage.classList.remove('is-hidden');\n  refs.bdropPopup.classList.remove('is-hidden');\n  refs.backdropBlock.classList.add('backdrop-block');\n}\n\nlet userBookAddStor = [];\n\nrefs.btnCloseInfoBook.addEventListener('click', onClickClosefoBook);\n\nfunction onClickClosefoBook() {\n  refs.backdropBlock.classList.remove('backdrop-block');\n  refs.bookPage.classList.add('is-hidden');\n  refs.bdropPopup.classList.add('is-hidden');\n  refs.pAddtoCardCongrat.classList.add('hidden');\n  refs.btnRemoveShList.classList.add('hidden');\n  refs.btnAddtoShList.classList.remove('hidden');\n}\n\nrefs.btnAddtoShList.addEventListener('click', onClickAddtoShList);\nrefs.btnRemoveShList.addEventListener('click', onClickRemoveShList);\n\nfunction onClickAddtoShList() {\n  refs.btnAddtoShList.classList.add('hidden');\n  refs.pAddtoCardCongrat.classList.remove('hidden');\n  refs.btnRemoveShList.classList.remove('hidden');\n\n  let [{ _id }] = userBookAdd;\n  let boolBook = false;\n  shoppingList.find(({ _id: idU }) => {\n    if (idU === _id) {\n      return (boolBook = true);\n    }\n  });\n\n  if (boolBook) {\n    return;\n  }\n\n  shoppingList.push(...userBookAdd);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(shoppingList));\n  shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY));\n}\n\nfunction onClickRemoveShList() {\n  refs.btnAddtoShList.classList.remove('hidden');\n  refs.pAddtoCardCongrat.classList.add('hidden');\n  refs.btnRemoveShList.classList.add('hidden');\n\n  shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n  let [{ _id: idBook }] = userBookAdd;\n  const product = shoppingList.findIndex(({ _id: id }) => id === idBook);\n\n  if (product !== -1) {\n    shoppingList.splice(product, 1);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(shoppingList));\n    refs.btnAddtoShList.classList.remove('hidden');\n    refs.btnRemoveShList.classList.add('hidden');\n  } else {\n    return;\n  }\n}\n\nrefs.bdropPopup.addEventListener('click', onClickBackdrop);\n\nfunction onClickBackdrop(event) {\n  if (event.target === refs.bdropPopup) {\n    closeBookPage();\n  }\n}\n\ndocument.addEventListener('keydown', onEscPress);\n\nfunction onEscPress(event) {\n  if (event.key === 'Escape') {\n    closeBookPage();\n  }\n}\n\nfunction closeBookPage() {\n  refs.backdropBlock.classList.remove('backdrop-block');\n  refs.bookPage.classList.add('is-hidden');\n  refs.bdropPopup.classList.add('is-hidden');\n  refs.pAddtoCardCongrat.classList.add('hidden');\n  refs.btnRemoveShList.classList.add('hidden');\n  refs.btnAddtoShList.classList.remove('hidden');\n}\n\n// const appStore1 = '/img/shopping/book_grey.png';\n// const amazonImg1 = '/img/shopping/am_grey.png';\n\n// const refs = {\n//   catList: document.querySelector('.categoriesList'),\n//   catListItem: document.querySelector('.categoriesList'),\n\n//   bestSellersPartName: document.querySelector('.bestSellersPartName'),\n//   partCardsPage: document.querySelector('.partCardsList'),\n//   btnSeeMore: document.querySelector('.btnBestSellersSeeMore'),\n//   cardsBookSmall: document.querySelector('.photo-card'),\n//   //   shoppingList: document.querySelector('.js-shop-list'),\n\n//   popupMenuConttent: document.querySelector('.popup-menu-conttent'),\n//   btnAddtoShList: document.querySelector('.btn-addto-card'),\n//   pAddtoCardCongrat: document.querySelector('.addto-card-congrat'),\n//   btnRemoveShList: document.querySelector('.btn-remove-card'),\n\n//   bdropPopup: document.querySelector('.backdrop-popup-menu'),\n//   backdropBlock: document.querySelector('.wrapper'),\n//   btnCloseInfoBook: document.querySelector('.btn-close-infobook'),\n//   bookPage: document.querySelector('.box-popup-menu'),\n//   catPage: document.querySelector('.main-content-page'),\n// };\n// const STORAGE_KEY = 'user-shopping-list';\n\n// let shoppingList = [];\n// // if (localStorage.getItem(STORAGE_KEY)) {\n// //   shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY));\n// // } else {\n// //   shoppingList = [];\n// // }\n\n// // console.log(`shoppingList - ${[shoppingList]}`);\n\n// // // На стр. BestSellers вікриваемо інфо про книгу або відрацьовуемо клік по кнопці SeeMore\n// refs.catPage.addEventListener('click', onBookSwitch);\n\n// function onBookSwitch(e) {\n//   // const currentBook = e.target.closest(\".photo-card\")\n//   const currentBook = e.target.closest('.part-cards-list-itemcat');\n//   const currentBookBest = e.target.closest('.part-cards-list-item');\n\n//   if (currentBook) {\n//     let bookId = currentBook.id;\n//     bookDetail(bookId);\n//   }\n//   if (currentBookBest) {\n//     let bookId = currentBookBest.id;\n//     bookDetail(bookId);\n\n//     // let bookCat = currentCategory.getAttribute(\"category\");\n//     // selectedCategory = bookCat;\n//     // booksSelectedCategory(selectedCategory);\n//     // console.log(bookCat);\n//   }\n//   return;\n// }\n// // //////////////////////////////////////////////////////////////\n\n// // // ---->>>>>>   Детальна інформація про книгу  <<<<<<-----//??????????????????????????????\n// async function bookDetail(bookId) {\n//   return await fetch(`https://books-backend.p.goit.global/books/${bookId}`)\n//     .then(resp => {\n//       if (!resp.ok) {\n//         throw new Error(resp.statusText);\n//       }\n//       return resp.json();\n//     })\n//     .then(resp => {\n//       //   console.log([resp]);\n//       creatMarkupBook([resp]);\n//     })\n//     .catch(err => console.log(err));\n// }\n\n// let userBookAdd = [];\n// // foo для перевірки id поточної книги в локал стор -> вертає буль значення\n// function auditID() {\n//   let [{ _id }] = userBookAdd;\n//   let boolBook = false;\n//   const userTestBookLS = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n\n//   userTestBookLS.find(({ _id: idU }) => {\n//     if (idU === _id) {\n//       return (boolBook = true);\n//     }\n//   });\n//   return boolBook;\n// }\n\n// function creatMarkupBook(respArr) {\n//   userBookAdd = respArr;\n//   const infoBuyLinks = respArr[0].buy_links\n//     .map(\n//       ({ name, url }) =>\n//         `\n\n//      <div class=\"boxMarketPlace\">\n//      <a href=\"${url}\" class=\"infoMarketPlace\" target=\"_blank\"><b>${name}</b></a>\n//      </div>\n//        `\n//     )\n//     .join('');\n\n//   const pageMarkupBook = respArr\n//     .map(\n//       ({\n//         author,\n//         book_image,\n//         description,\n//         buy_links: [{ name, url }],\n//         buy_links,\n//         title,\n//         list_name,\n//         _id,\n//       }) => `\n//        <div class=\"photo-card\" id=\"${_id}\">\n\n//              <img class=\"images-photo\" src=\"${book_image}\"\n//               alt=\"${title}\" loading=\"lazy\" hight=\"281\" />\n//                 <div class=\"info\">\n//                    <h2 class=\"info-title\">${title}</h2>\n//                    <p class=\"info-author\">${author}</p>\n//                    <p class=\"info-description\">${description}</p>\n//                    <div class=\"info-buy-links\">\n//                    <a href=\"${url}\" class=\"info-by_links\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"Amazon link\">\n//                    <img class=\"link-img\" src=\"${amazonImg1}\" alt=\"Amazon link\" aria-label=\"Buy this book on Amazon\" /></a>\n//                    <a href=\"${url}\" class=\"info-by_links\" target=\"_blank\" rel=\"noopener noreferrer nofollow\" aria-label=\"AppleBook link\">\n//                    <img class=\"link-img\" src=\"${appStore1}\" alt=\"Appl Books link\" aria-label=\"Buy this book on Appl Books\" /></a>\n//                    </div>\n//                    </div>\n\n//        </div>\n//        `\n//     )\n//     .join('');\n//   // refs.bookPage.insertAdjacentHTML('beforeend', pageMarkupBook);\n\n//   // перевіряє чи є книга в локал стор і відображає коректну кнопку\n//   let auditIdBook = auditID();\n\n//   console.log(auditIdBook);\n//   if (auditIdBook) {\n//     refs.btnAddtoShList.classList.add('hidden');\n//     refs.btnRemoveShList.classList.remove('hidden');\n//   } else {\n//     refs.btnAddtoShList.classList.remove('hidden');\n//   }\n\n//   refs.popupMenuConttent.innerHTML = pageMarkupBook;\n//   refs.bookPage.classList.remove('is-hidden');\n//   refs.bdropPopup.classList.remove('is-hidden');\n//   refs.backdropBlock.classList.add('backdrop-block');\n//   //    refs.bookPage.insertAdjacentHTML('beforeend', pageMarkupBook);\n// }\n// // //////////////////////////////////////////////////////////////\n\n// let userBookAddStor = [];\n// // console.log(userBookAddStor);\n\n// refs.btnCloseInfoBook.addEventListener('click', onClickClosefoBook);\n\n// function onClickClosefoBook() {\n//   refs.backdropBlock.classList.remove('backdrop-block');\n//   refs.bookPage.classList.add('is-hidden');\n//   refs.bdropPopup.classList.add('is-hidden');\n//   refs.pAddtoCardCongrat.classList.add('hidden');\n//   refs.btnRemoveShList.classList.add('hidden');\n//   refs.btnAddtoShList.classList.remove('hidden');\n// }\n\n// refs.btnAddtoShList.addEventListener('click', onClickAddtoShList);\n// refs.btnRemoveShList.addEventListener('click', onClickRemoveShList);\n\n// function onClickAddtoShList() {\n//   refs.btnAddtoShList.classList.add('hidden');\n//   refs.pAddtoCardCongrat.classList.remove('hidden');\n//   refs.btnRemoveShList.classList.remove('hidden');\n\n//   // перевіряє чи є дана книга в локал стор\n//   // console.log('userbook', userBookAdd);\n//   // let [{ _id }] = userBookAdd;\n//   // console.log('userBookAddStor', userBookAddStor);\n//   // console.log('id', _id);\n//   // let boolBook = auditID();\n//   // console.log('boolBook', boolBook);\n//   // console.log('boolbook', boolBook);\n//   // якщо відсутня то додає в локал стор\n\n//   let [{ _id }] = userBookAdd;\n//   let boolBook = false;\n//   shoppingList.find(({ _id: idU }) => {\n//     if (idU === _id) {\n//       return (boolBook = true);\n//     }\n//   });\n\n//   if (boolBook) {\n//     return;\n//   }\n//   console.log('shoppingList', shoppingList);\n//   shoppingList.push(...userBookAdd);\n//   // console.log('userBookAddStor', userBookAddStor);\n//   localStorage.setItem(STORAGE_KEY, JSON.stringify(shoppingList));\n//   // console.log('userBookAddStor setitem', userBookAddStor);\n//   shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY));\n//   // console.log('shoppingList getitem', shoppingList);\n//   // console.log('shoppingList', shoppingList);\n\n//   // console.log(JSON.stringify(...userBookAdd));\n//   // console.log(JSON.stringify(...shoppingList));\n\n//   // const checkId = [{sadasd}, {adsad}, {dasdasdas}]\n//   // const checkIasdasd = '643282b1e85766588626a0dc';\n\n//   // console.log(checkIasdasd.includes(2));\n\n//   // if (checkId) {\n//   //       console.log(checkId);\n//   // }\n\n//   // let result = userBookAdd.filter((item) => {\n\n//   //                  JSON.stringify(shoppingList).indexOf(JSON.stringify(item)) === -1;\n//   //             });\n\n//   // console.log(result);\n// }\n\n// function onClickRemoveShList() {\n//   refs.btnAddtoShList.classList.remove('hidden');\n//   refs.pAddtoCardCongrat.classList.add('hidden');\n//   refs.btnRemoveShList.classList.add('hidden');\n\n//   //видалення елементу з мас\n//   shoppingList = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n//   // console.log(shoppingList);\n//   let [{ _id: idBook }] = userBookAdd;\n//   // console.log(idBook);\n//   const product = shoppingList.findIndex(({ _id: id }) => id === idBook);\n//   console.log('product', product);\n//   if (product !== -1) {\n//     shoppingList.splice(product, 1);\n//     localStorage.setItem(STORAGE_KEY, JSON.stringify(shoppingList));\n//     refs.btnAddtoShList.classList.remove('hidden');\n//     refs.btnRemoveShList.classList.add('hidden');\n//   } else {\n//     return;\n//   }\n// }\n\n// // refs.bookPage.addEventListener('click', onClickBookInfo);\n// // function onClickBookInfo(e) {\n// //     refs.btnAddtoCard = e.target.closest(\".btn-addto-card\")\n// //      refs.btnRemoveCard = e.target.closest(\".btn-remove-card\")\n// //       refs.btnCloseBookPage = e.target.closest(\".btn-close-infobook\")\n// //       console.log(btnAddtoCard);\n// //       console.log(btnRemoveCard);\n// //       console.log(btnCloseBookPage);\n\n// // //     const btnAddtoCard = e.target.closest(\".btn-addto-card\")\n// // //     const btnRemoveCard = e.target.closest(\".btn-remove-card\")\n// // //       const btnCloseBookPage = e.target.closest(\".btn-close-infobook\")\n\n// //       console.log(object);\n// //     if (btnAddtoCard) {\n// //           console.log('btnAddtoCard');\n// //       //     btnAddtoCard.classList.add('hidden')\n// //       //     btnRemoveCard.classList.remove('hidden')\n// //      refs.btnAddtoCard.hidden = true;\n// //      refs.btnRemoveCard.hidden = false;\n\n// //       //   refs.btnRemoveShList.classList.remove('hidden');\n\n// //     } if (btnRemoveCard) {\n// //       //   btnAddtoCard.classList.remove('hidden')\n// //       // btnRemoveCard.classList.add('hidden')\n// //     console.log('btnRemoveCard');\n// //       } if (btnCloseBookPage) {\n// //           refs.backdropBlock.classList.remove('backdrop-block')\n// //           refs.bookPage.classList.add('hidden');\n// //           refs.bdropPopup.classList.add('hidden')\n\n// //      }return\n\n// // // };\n// // const atTheOldToad = {\n// //   potions: [\n// //     { name: \"Speed potion\", price: 460 },\n// //     { name: \"Dragon breath\", price: 780 },\n// //     { name: \"Stone skin\", price: 520 },\n// //   ],\n\n// //   getPotions() {\n// //     return this.potions;\n// //   },\n// //   addPotion(newPotion) {\n// //     // { name: 'blablabla', price: 200}\n// //     for (const potion of this.potions) {\n// //       if (potion.name === newPotion.name) {\n// //         return `Error! Potion ${newPotion.name} is already in your inventory!`;\n// //       }\n// //     }\n// //     this.potions.push(newPotion);\n// //   },\n// //   removePotion(potionName) {\n// //     for (let i = 0; i < this.potions.length; i += 1) {\n// //       if (this.potions[i].name === potionName) {\n// //         this.potions.splice(i, 1);\n// //         return;\n// //       }\n// //     }\n// //     return `Potion ${potionName} is not in inventory!`;\n// //   },\n// //   updatePotionName(oldName, newName) {\n// //     for (const potion of this.potions) {\n// //       if (potion.name === oldName) {\n// //         potion.name = newName;\n// //         return;\n// //       }\n// //     }\n// //     return `Potion ${oldName} is not in inventory!`;\n// //   },\n// //   // Change code above this line\n// // };\n\n// // // addPotion({ name: \"Speed potion\", price: 460 })\n// // console.log(addPotion({ name: \"Speed potion\", price: 460 }));\n","import axios from 'axios';\nimport Notiflix from 'notiflix';\n\nconst BASEURL = 'https://books-backend.p.goit.global';\nconst ALLCAT = '/books/top-books';\nconst catList = document.querySelector('.categories-list');\nconst loader = document.querySelector('.loader');\nconst mainContentPage = document.querySelector('.main-content-page');\nconst categoryItem = document.querySelector('.category-item');\nconst numberBlocksPage = 18;\n\nasync function getAllBestCategory() {\n  try {\n    loader.style.display = 'initial';\n    const allBestCategory = await axios.get(`${BASEURL}${ALLCAT}`);\nloader.style.display = 'none';\n    // console.log(AllBestCategory);\n    return allBestCategory.data;\n  } catch (error) {\n    console.error(error);\n    Notiflix.Notify.failure('Error');\n  }\n}\n\ngetAllBestCategory()\n  .then(data => {\n    // console.log(data);\n    createPageAllBooks(data);\n  })\n  .catch(err => console.log(err));\n\nfunction createPageAllBooks(respArr) {\n  const headPage = `<h1 class=\"head-main-h\">Best Sellers\n  <span class=\"head-main-h head-main-hdecor\">\n  Books\n  </span>\n   </h1>`;\n  let partBoxAllBooks = '';\n  let pageAllBooks = '';\n  // console.log(respArr);\n  for (let i = 0; i < numberBlocksPage; i++) {\n    let categoryName = respArr[i].list_name;\n    let categoryArr = respArr[i].books;\n    // console.log(categoryArr);\n\n    const pageMarkupAllBooks = categoryArr\n      .map(\n        ({ _id, author, book_image, title }) => `\n      <li class=\"part-cards-list-item\" id=\"${_id}\" >\n         <div class=\"images-card-box\">\n         <img class=\"images-prev\" src=\"${book_image}\" alt=\"${title}\" width ='180' loading=\"lazy\">\n          <p class=\"hover-text-card\">quick view</p>\n          </div>\n\n              <div class=\"info-block-card\">\n                   <p class=\"infos-item-title\">${title}</p>\n                   <p class=\"infos-item-author\">${author}</p>\n             </div>\n      </li>\n       `\n      )\n      .join('');\n\n    partBoxAllBooks = `<div class=\"best-sellers-group\">\n      <div class=\"bestellers-part\">\n              <p class=\"bestsellers-part-name\">${categoryName}</p>\n              <ul class=\"part-cards-list\">\n                  ${pageMarkupAllBooks}\n              </ul>\n          </div></div>\n          <button class=\"btn-best-seemore\" category = \"${categoryName}\">See More</button>\n      `;\n    pageAllBooks += partBoxAllBooks;\n  }\n  const allPartToBox = `<div class=\"all-part-to-box\">${pageAllBooks}</div>`;\n  // refs.catPage.insertAdjacentHTML('beforeend', headPage + pageAllBooks);\n  mainContentPage.innerHTML = headPage + allPartToBox;\n}\n\nlet selectedCategory = '';\n////////\ncatList.addEventListener('click', onFirstSwitch);\n// let selectedCategory = '';\nfunction onFirstSwitch(e) {\n  selectedCategory = e.target.textContent;\n  // console.log(selectedCategory);\n  //   console.log(catList.firstChild);\n  // if (e.currentTarget === e.target) {\n  //     return;\n  //     }\n\n  if (selectedCategory === 'All categories') {\n    // console.log(selectedCategory);\n    getAllBestCategory()\n      .then(data => {\n        // console.log(data);\n        createPageAllBooks(data);\n      })\n      .catch(err => console.log(err));\n    //Cюда вставить функцию H1\n    // mainContentPage.innerHTML = 'Audio Nonfiction';\n  }\n  //   else {\n  //   selectedCategory = e.target.textContent\n  //   getAllBestCategory()\n  //     }\n}\n"],"names":["BASEURL","CATLIST","listCategory","axios","error","catList","resp","markupCatList","Notiflix","respArr","categoriesList","list_name","itemFirstEl","loader","CATSELECT","mainContentPage","selectedCategory","catListItem","onCategoriesSwitch","e","activeCategory","getSelectedCategory","booksSelectedCategory","onSelectedCategory","headMaidCss","headMaker","category","fixLast","lastWorld","lengthFirstPart","markupSelectedCategory","author","book_image","description","amazon_product_url","title","_id","contentPageCat","onBookSwitch","currentCategory","bookCat","categories","appStore1","amazonImg1","refs","STORAGE_KEY","shoppingList","currentBook","currentBookBest","bookId","bookDetail","creatMarkupBook","err","userBookAdd","auditID","boolBook","idU","name","url","pageMarkupBook","buy_links","onClickClosefoBook","onClickAddtoShList","onClickRemoveShList","idBook","product","id","onClickBackdrop","event","closeBookPage","onEscPress","ALLCAT","numberBlocksPage","getAllBestCategory","allBestCategory","data","createPageAllBooks","headPage","partBoxAllBooks","pageAllBooks","categoryName","pageMarkupAllBooks","allPartToBox","onFirstSwitch"],"mappings":"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"}